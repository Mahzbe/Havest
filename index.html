<!DOCTYPE html>
<html>
<head>
	<title>Harvest Haven</title>
	<style>
		/* Add some basic styling for the landscape */
		#landscape {
			width: 800px;
			height: 600px;
			background-color: #87CEEB; /* Sky blue */
			position: relative;
		}
		
		#farm {
			width: 100px;
			height: 100px;
			background-color: #32CD32; /* Lime green */
			position: absolute;
			top: 200px;
			left: 200px;
			border-radius: 50%;
		}
		
		#shop {
			width: 100px;
			height: 100px;
			background-color: #6495ED; /* Cornflower blue */
			position: absolute;
			top: 300px;
			left: 400px;
			border-radius: 50%;
		}
		
		#npc {
			width: 50px;
			height: 50px;
			background-color: #FF0000; /* Red */
			position: absolute;
			top: 250px;
			left: 250px;
			border-radius: 50%;
		}
		
		#player {
			width: 50px;
			height: 50px;
			background-color: #FFFF00; /* Yellow */
			position: absolute;
			top: 100px;
			left: 100px;
			border-radius: 50%;
		}
	</style>
</head>
<body>
	<div id="landscape">
		<div id="farm"></div>
		<div id="shop"></div>
		<div id="npc"></div>
		<div id="player"></div>
	</div>
	<div id="game-info">
		<p>Day: <span id="day">1</span></p>
		<p>Money: <span id="money">100</span></p>
		<p>Farm Level: <span id="farm-level">1</span></p>
		<p>Shop Level: <span id="shop-level">1</span></p>
	</div>
	<div>
		<button onclick="movePlayer('farm')">Go to Farm</button>
		<button onclick="movePlayer('shop')">Go to Shop</button>
		<button onclick="interactNPC()">Talk to NPC</button>
		<button onclick="workOnFarm()">Work on Farm</button>
		<button onclick="shop()">Shop</button>
		<button onclick="upgradeFarm()">Upgrade Farm</button>
		<button onclick="upgradeShop()">Upgrade Shop</button>
	</div>
	<div id="game-output"></div>
	
	<script>
		// Get game elements
		const gameInfo = document.getElementById('game-info');
		const gameOutput = document.getElementById('game-output');
		const landscape = document.getElementById('landscape');
		const farm = document.getElementById('farm');
		const shop = document.getElementById('shop');
		const npc = document.getElementById('npc');
		const player = document.getElementById('player');
		
		// Initialize game state
		let day = 1;
		let money = 100;
		let farmLevel = 1;
		let shopLevel = 1;
		let npcLocation = 'farm';
		let playerLocation = 'start';
		
		// Define NPCs
		const npcs = [
			{
				name: 'Farmer Brown',
				responses: [
					'Hello! Welcome to Harvest Haven.',
					"How's your farm coming along?",
					"I've got some fresh produce for sale."
				],
				location: 'farm'
			},
			{
				name: 'Town Mayor',
				responses: [
					'Greetings! I\'m the town mayor.',
					'We\'re glad to have you in Harvest Haven.',
					'Let me know if you need anything.'
				],
				location: 'shop'
			}
		];
		
		// Add player movement controls
		document.addEventListener('keydown', (event) => {
			const moveSpeed = 10;
			switch (event.key) {
				case 'ArrowUp':
					player.style.top = `${parseInt(player.style.top) - moveSpeed}px`;
					break;
				case 'ArrowDown':
					player.style.top = `${parseInt(player.style.top) + moveSpeed}px`;
					break;
				case 'ArrowLeft':
					player.style.left = `${parseInt(player.style.left) - moveSpeed}px`;
					break;
				case 'ArrowRight':
					player.style.left = `${parseInt(player.style.left) + moveSpeed}px`;
					break;
			}
			checkCollisionWithNPC();
		});
		
		// Move player to specific location
		function movePlayer(location) {
			if (location === 'farm') {
				player.style.top = '200px';
				player.style.left = '200px';
				playerLocation = 'farm';
			} else if (location === 'shop') {
				player.style.top = '300px';
				player.style.left = '400px';
				playerLocation = 'shop';
			}
			checkCollisionWithNPC();
		}
		
		// Check if player collides with NPC
		function checkCollisionWithNPC() {
			const playerRect = player.getBoundingClientRect();
			const npcRect = npc.getBoundingClientRect();
			
			if (!(playerRect.right < npcRect.left || 
			      playerRect.left > npcRect.right || 
			      playerRect.bottom < npcRect.top || 
			      playerRect.top > npcRect.bottom)) {
				gameOutput.innerHTML += `<p>You encountered ${npcs.find(npc => npc.location === npcLocation).name}.</p>`;
				interactNPC();
			}
		}
		
		// NPC interaction logic
		function interactNPC() {
			const currentNPC = npcs.find(npc => npc.location === npcLocation);
			if (currentNPC) {
				gameOutput.innerHTML += `<p>${currentNPC.name}: ${currentNPC.responses[Math.floor(Math.random() * currentNPC.responses.length)]}</p>`;
			} else {
				gameOutput.innerHTML += `<p>There's no one here to talk to.</p>`;
			}
		}
		
		// Handle farming
		function workOnFarm() {
			if (playerLocation === 'farm') {
				money += 1;
				farmLevel += 0.1;
				gameOutput.innerHTML += `<p>You worked on your farm and earned $1.</p>`;
			} else {
				gameOutput.innerHTML += `<p>You need to be at the farm to work.</p>`;
			}
		}
		
		// Handle shopping
		function shop() {
			if (playerLocation === 'shop') {
				money -= 0.5;
				shopLevel += 0.1;
				gameOutput.innerHTML += `<p>You bought some supplies for $0.50.</p>`;
			} else {
				gameOutput.innerHTML += `<p>You need to be at the shop to buy supplies.</p>`;
			}
		}
		
		// Handle upgrading farm
		function upgradeFarm() {
			if (money >= 50) {
				money -= 50;
				farmLevel += 1;
				gameOutput.innerHTML += `<p>You upgraded your farm!</p>`;
			} else {
				gameOutput.innerHTML += `<p>You don't have enough money to upgrade your farm.</p>`;
			}
		}
		
		// Handle upgrading shop
		function upgradeShop() {
			if (money >= 50) {
				money -= 50;
				shopLevel += 1;
				gameOutput.innerHTML += `<p>You upgraded your shop!</p>`;
			} else {
				gameOutput.innerHTML += `<p>You don't have enough money to upgrade your shop.</p>`;
			}
		}
		
		// Move NPC every 5 seconds
		setInterval(() => {
			if (npcLocation === 'farm') {
				npcLocation = 'shop';
				npc.style.top = '300px';
				npc.style.left = '400px';
			} else {
				npcLocation = 'farm';
				npc.style.top = '200px';
				npc.style.left = '200px';
			}
		}, 5000);
		
		// Update game state every second
		setInterval(() => {
			day += 0.01;
			money += 0.1;
			gameInfo.innerHTML = `
				<p>Day: <span id="day">${day.toFixed(2)}</span></p>
				<p>Money: <span id="money">${money.toFixed(2)}</span></p>
				<p>Farm Level: <span id="farm-level">${farmLevel.toFixed(1)}</span></p>
				<p>Shop Level: <span id="shop-level">${shopLevel.toFixed(1)}</span></p>
			`;
		}, 1000);
	</script>
</body>
</html>
