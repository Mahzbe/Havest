<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farm Life Simulation</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        #game-area {
            width: 800px;
            height: 600px;
            background-color: #87CEEB; /* Sky */
            position: relative;
            overflow: hidden;
            margin: 0 auto;
        }
        .background {
            width: 1600px; /* 2x the width of the game area */
            height: 600px;
            position: absolute;
            top: 0;
            left: 0;
            background-image: linear-gradient(to right, #87CEEB, #228B22); /* Sky to Grass */
            transition: left 1s ease;
        }
        #player, .npc {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            position: absolute;
            background-color: yellow;
            text-align: center;
            line-height: 50px;
            font-size: 10px;
            font-weight: bold;
        }
        .npc {
            background-color: red;
        }
        #player {
            left: 50px;
            top: 300px;
        }
        #net-worth, #bank-balance {
            margin: 20px;
        }
        #joystick {
            width: 200px;
            height: 200px;
            position: absolute;
            left: 50%;
            bottom: 20px;
            transform: translateX(-50%);
            background: #ccc;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #joystick-controls {
            width: 100px;
            height: 100px;
            background: #666;
            border-radius: 50%;
            position: relative;
        }
        .joystick-button {
            width: 30px;
            height: 30px;
            background: #444;
            position: absolute;
            border-radius: 50%;
        }
        .up { top: -40px; left: 35px; }
        .down { bottom: -40px; left: 35px; }
        .left { left: -40px; top: 35px; }
        .right { right: -40px; top: 35px; }
    </style>
</head>
<body>

<div id="game-area">
    <div class="background" id="background"></div>
    <div id="player">Player</div>
    <div class="npc" id="npc1" style="left: 300px; top: 200px;">NPC</div>
    <div class="npc" id="npc2" style="left: 600px; top: 400px;">NPC</div>
</div>

<div id="net-worth">Net Worth: $1000</div>
<div id="bank-balance">Bank Balance: $500</div>

<div id="joystick">
    <div id="joystick-controls">
        <div class="joystick-button up"></div>
        <div class="joystick-button down"></div>
        <div class="joystick-button left"></div>
        <div class="joystick-button right"></div>
    </div>
</div>

<script>
    let netWorth = 1000;
    let bankBalance = 500;
    let player = document.getElementById('player');
    let background = document.getElementById('background');
    let npc1 = document.getElementById('npc1');
    let npc2 = document.getElementById('npc2');

    let contractActive = false;
    let contractEndTime = null;

    function updateFinances() {
        document.getElementById('net-worth').innerText = `Net Worth: $${netWorth}`;
        document.getElementById('bank-balance').innerText = `Bank Balance: $${bankBalance}`;
    }

    function startWorkContract() {
        contractActive = true;
        contractEndTime = Date.now() + 60000; // 1 minute contract
        background.style.left = "-800px"; // Slide to work background
    }

    function endWorkContract() {
        contractActive = false;
        bankBalance += 100; // Earn money from contract
        netWorth += 100;
        background.style.left = "0"; // Slide back to home background
        alert("Contract ended. Look for a new job.");
    }

    setInterval(() => {
        if (contractActive && Date.now() >= contractEndTime) {
            endWorkContract();
        }
    }, 1000);

    function movePlayer(direction) {
        const moveBy = 10;
        const playerRect = player.getBoundingClientRect();
        const gameAreaRect = document.getElementById('game-area').getBoundingClientRect();

        if (direction === 'up' && playerRect.top > gameAreaRect.top) {
            player.style.top = `${player.offsetTop - moveBy}px`;
        } else if (direction === 'down' && playerRect.bottom < gameAreaRect.bottom) {
            player.style.top = `${player.offsetTop + moveBy}px`;
        } else if (direction === 'left' && playerRect.left > gameAreaRect.left) {
            player.style.left = `${player.offsetLeft - moveBy}px`;
        } else if (direction === 'right' && playerRect.right < gameAreaRect.right) {
            player.style.left = `${player.offsetLeft + moveBy}px`;
        }
    }

    function npcPopups() {
        // NPC1 moves every 5 minutes
        setInterval(() => {
            let newLeft = Math.random() * (gameAreaRect.width - 50);
            let newTop = Math.random() * (gameAreaRect.height - 50);
            npc1.style.left = `${newLeft}px`;
            npc1.style.top = `${newTop}px`;
        }, 300000);

        // NPC2 moves every 5 minutes
        setInterval(() => {
            let newLeft = Math.random() * (gameAreaRect.width - 50);
            let newTop = Math.random() * (gameAreaRect.height - 50);
            npc2.style.left = `${newLeft}px`;
            npc2.style.top = `${newTop}px`;
        }, 300000);
    }

    document.querySelector('.up').addEventListener('click', () => movePlayer('up'));
    document.querySelector('.down').addEventListener('click', () => movePlayer('down'));
    document.querySelector('.left').addEventListener('click', () => movePlayer('left'));
    document.querySelector('.right').addEventListener('click', () => movePlayer('right'));

    updateFinances();
    npcPopups();

    document.querySelector('#joystick').addEventListener('click', () => {
        if (!contractActive) {
            startWorkContract();
        }
    });
</script>

</body>
</html>
